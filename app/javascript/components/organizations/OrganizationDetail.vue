<template>
  <div>
    <div class="py-[16px] bg-[#FAFCFF]">
      <div class="max-w-[1280px] m-auto flex md:flex-col md:gap-4 items-center justify-between py-[16px] xl:px-[16px]">
        <div class="flex gap-[10px]">
          <span v-if="organization.verified" class="relative">
            <img :src="organization.avatar" class="h-[60px] w-[60px] rounded-[50%]" />
            <svg class="absolute bottom-0 right-0" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"><g clip-path="url(#clip0_7299_1409)"><path d="M13.899 3.18734C14.07 3.6008 14.3981 3.92944 14.8113 4.10101L16.2602 4.70116C16.6737 4.87243 17.0022 5.20094 17.1735 5.61443C17.3448 6.02791 17.3448 6.4925 17.1735 6.90598L16.5738 8.35382C16.4024 8.76748 16.4022 9.23254 16.5743 9.64601L17.173 11.0934C17.2579 11.2982 17.3016 11.5177 17.3016 11.7394C17.3017 11.9611 17.258 12.1807 17.1732 12.3855C17.0883 12.5903 16.964 12.7764 16.8072 12.9331C16.6504 13.0899 16.4643 13.2142 16.2594 13.2989L14.8116 13.8987C14.3981 14.0696 14.0695 14.3978 13.8979 14.811L13.2978 16.2598C13.1265 16.6733 12.798 17.0018 12.3845 17.1731C11.971 17.3444 11.5064 17.3444 11.0929 17.1731L9.64511 16.5734C9.23161 16.4025 8.7672 16.4029 8.35396 16.5744L6.90508 17.1736C6.49183 17.3445 6.02764 17.3444 5.6145 17.1732C5.20135 17.0021 4.87302 16.674 4.70163 16.2609L4.10131 14.8116C3.93035 14.3982 3.6022 14.0695 3.18901 13.898L1.74014 13.2978C1.32683 13.1266 0.998417 12.7983 0.827083 12.3851C0.655748 11.9718 0.655516 11.5075 0.826437 11.094L1.42615 9.6462C1.597 9.23271 1.59665 8.76829 1.42518 8.35505L0.826328 6.90513C0.741422 6.70034 0.697703 6.48082 0.697668 6.25912C0.697632 6.03743 0.741281 5.8179 0.82612 5.61308C0.91096 5.40826 1.03533 5.22216 1.19212 5.06542C1.3489 4.90868 1.53504 4.78438 1.73989 4.6996L3.18772 4.09989C3.60082 3.92908 3.92926 3.60135 4.10096 3.18863L4.70111 1.73976C4.87238 1.32627 5.20089 0.997758 5.61438 0.826487C6.02786 0.655216 6.49245 0.655216 6.90593 0.826487L8.35377 1.4262C8.76726 1.59705 9.23168 1.5967 9.64492 1.42523L11.0944 0.827417C11.5078 0.656242 11.9723 0.656277 12.3857 0.827514C12.7991 0.998752 13.1276 1.32717 13.2989 1.74055L13.8992 3.18985L13.899 3.18734Z" fill="#2E90FA"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.5249 6.64035C12.6452 6.45148 12.6855 6.22258 12.6369 6.00401C12.5884 5.78544 12.455 5.59509 12.2662 5.47485C12.0773 5.35461 11.8484 5.31432 11.6298 5.36284C11.4113 5.41137 11.2209 5.54473 11.1007 5.7336L7.79654 10.9255L6.28454 9.03547C6.14476 8.86063 5.94124 8.74848 5.71876 8.72369C5.49629 8.6989 5.27308 8.7635 5.09823 8.90329C4.92339 9.04307 4.81123 9.24659 4.78644 9.46907C4.76165 9.69154 4.82626 9.91476 4.96604 10.0896L7.21604 12.9021C7.2999 13.007 7.4076 13.0905 7.53018 13.1454C7.65277 13.2003 7.7867 13.2252 7.92084 13.2179C8.05498 13.2107 8.18544 13.1715 8.30138 13.1036C8.41732 13.0358 8.51539 12.9412 8.58742 12.8278L12.5249 6.64035Z" fill="white"/></g><defs><clipPath id="clip0_7299_1409"><rect width="18" height="18" fill="white"/></clipPath></defs></svg>
          </span>
          <span v-else class="relative">
            <img :src="organization.avatar" class="h-[60px] w-[60px] rounded-[50%]" />
          </span>
          <div>
            <h3 class="text-[24px] text-[#303133] font-[600]"> {{ (organization.nickname && organization.nickname.trim()) || organization.name }}</h3>
            <p class="text-[16px]"> @{{ organization.name }} </p>
          </div>
        </div>
        <div class="flex gap-[10px]">
          <el-popover placement="bottom-start" :width="300" trigger="click">
            <template #reference>
              <div v-if="admin" :href="`/organizations/${organization.name}/edit`" class="flex cursor-pointer gap-[10px] border border-gray-300 items-center rounded-[8px] px-[12px] py-[8px]">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M7.00033 2.91699V11.0837M2.91699 7.00033H11.0837" stroke="#344054" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/></svg>
                {{ $t('organization.create') }}
              </div>
            </template>
            <div>
              <a :href="`/models/new?orgName=${organization.name}`" class="hover:bg-[#F9FAFB] cursor-pointer flex gap-2 items-center py-[9px] px-[10px]">
                <div class="px-2 py-2 bg-[#F9F1F0]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path opacity="0.12" d="M14.6668 8.91772V4.85468C14.6668 4.73812 14.6057 4.6301 14.5057 4.57013C14.3998 4.50661 14.2675 4.50712 14.1621 4.57146L10.2235 6.97608C9.41586 7.46914 9.01206 7.71568 8.58015 7.81192C8.19818 7.89703 7.80215 7.89703 7.42017 7.81192C6.98827 7.71568 6.58447 7.46914 5.77686 6.97608L1.83825 4.57146C1.73287 4.50712 1.60048 4.50661 1.49461 4.57013C1.39465 4.6301 1.3335 4.73812 1.3335 4.85468V8.91772C1.3335 9.79863 1.3335 10.2391 1.45989 10.6349C1.57173 10.9851 1.75479 11.3084 1.99757 11.5845C2.27192 11.8965 2.64961 12.1231 3.40498 12.5764L5.80498 14.0164C6.60311 14.4952 7.00218 14.7347 7.42819 14.8282C7.80502 14.911 8.19531 14.911 8.57213 14.8282C8.99814 14.7347 9.39721 14.4952 10.1953 14.0164L12.5953 12.5764C13.3507 12.1231 13.7284 11.8965 14.0028 11.5845C14.2455 11.3084 14.4286 10.9851 14.5404 10.6349C14.6668 10.2391 14.6668 9.79863 14.6668 8.91772Z" fill="#AD4A3B"/><path d="M8.00016 8.33268L14.0002 4.66602M8.00016 8.33268L2.00016 4.66602M8.00016 8.33268V14.9993M1.3335 7.08176V8.91694C1.3335 9.79785 1.3335 10.2383 1.45989 10.6341C1.57173 10.9843 1.75479 11.3076 1.99757 11.5837C2.27192 11.8957 2.6496 12.1223 3.40498 12.5756L5.80498 14.0156C6.60311 14.4945 7.00218 14.7339 7.42819 14.8274C7.80502 14.9102 8.19531 14.9102 8.57213 14.8274C8.99814 14.7339 9.39721 14.4945 10.1953 14.0156L12.5953 12.5756C13.3507 12.1223 13.7284 11.8957 14.0028 11.5837C14.2455 11.3076 14.4286 10.9843 14.5404 10.6341C14.6668 10.2383 14.6668 9.79785 14.6668 8.91694V7.08176C14.6668 6.20085 14.6668 5.76039 14.5404 5.36462C14.4286 5.01439 14.2455 4.69107 14.0028 4.41497C13.7284 4.10296 13.3507 3.87635 12.5953 3.42312L10.1953 1.98313C9.39721 1.50424 8.99814 1.2648 8.57213 1.17125C8.19531 1.0885 7.80502 1.0885 7.42819 1.17125C7.00218 1.2648 6.60311 1.50425 5.80498 1.98313L3.40498 3.42312C2.6496 3.87635 2.27192 4.10296 1.99757 4.41497C1.75479 4.69107 1.57173 5.01439 1.45989 5.36462C1.3335 5.76039 1.3335 6.20085 1.3335 7.08176Z" stroke="#AD4A3B" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="text-[14px] leading-[20px] text-[#344054]">
                  <div>{{ $t('models.title') }}</div>
                  <div class="font-light">{{ $t('models.tips') }}</div>
                </div>
              </a>
              <a :href="`/datasets/new?orgName=${organization.name}`" class="hover:bg-[#F9FAFB] cursor-pointer flex gap-2 items-center py-[9px] px-[10px]">
                <div class="px-2 py-2 bg-[#E7EFF7]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path opacity="0.12" d="M8 14.6673C11.3137 14.6673 14 13.7719 14 12.6673V3.33398C14 3.33398 13.6667 5.33398 8 5.33398C2.33333 5.33398 2 3.33398 2 3.33398V12.6673C2 13.7719 4.68629 14.6673 8 14.6673Z" fill="#1F75CB"/><path d="M14 8.00065C14 9.10522 11.3137 10.0007 8 10.0007C4.68629 10.0007 2 9.10522 2 8.00065M14 3.33398C14 4.43855 11.3137 5.33398 8 5.33398C4.68629 5.33398 2 4.43855 2 3.33398M14 3.33398C14 2.22941 11.3137 1.33398 8 1.33398C4.68629 1.33398 2 2.22941 2 3.33398M14 3.33398V12.6673C14 13.7719 11.3137 14.6673 8 14.6673C4.68629 14.6673 2 13.7719 2 12.6673V3.33398" stroke="#1F75CB" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="text-[14px] leading-[20px] text-[#344054]">
                  <div>{{ $t('datasets.title') }}</div>
                  <div class="font-light">{{ $t('datasets.tips') }}</div>
                </div>
              </a>
              <a :href="`/spaces/new?orgName=${organization.name}`" class="hover:bg-[#F9FAFB] cursor-pointer flex gap-2 items-center py-[9px] px-[10px]">
                <div class="px-2 py-2 bg-[#F5F2FB]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g opacity="0.12"><path d="M1.3335 4.00065C1.3335 3.17231 1.3335 2.75814 1.46882 2.43144C1.64925 1.99583 1.99534 1.64974 2.43095 1.46931C2.75765 1.33398 3.17182 1.33398 4.00016 1.33398C4.8285 1.33398 5.24267 1.33398 5.56938 1.46931C6.00498 1.64974 6.35107 1.99583 6.5315 2.43144C6.66683 2.75814 6.66683 3.17231 6.66683 4.00065C6.66683 4.82899 6.66683 5.24316 6.5315 5.56987C6.35107 6.00547 6.00498 6.35156 5.56938 6.53199C5.24267 6.66732 4.8285 6.66732 4.00016 6.66732C3.17182 6.66732 2.75765 6.66732 2.43095 6.53199C1.99534 6.35156 1.64925 6.00547 1.46882 5.56987C1.3335 5.24316 1.3335 4.82899 1.3335 4.00065Z" fill="#7B58CF"/><path d="M1.3335 12.0007C1.3335 11.1723 1.3335 10.7581 1.46882 10.4314C1.64925 9.99583 1.99534 9.64974 2.43095 9.46931C2.75765 9.33398 3.17182 9.33398 4.00016 9.33398C4.8285 9.33398 5.24267 9.33398 5.56938 9.46931C6.00498 9.64974 6.35107 9.99583 6.5315 10.4314C6.66683 10.7581 6.66683 11.1723 6.66683 12.0007C6.66683 12.829 6.66683 13.2432 6.5315 13.5699C6.35107 14.0055 6.00498 14.3516 5.56938 14.532C5.24267 14.6673 4.8285 14.6673 4.00016 14.6673C3.17182 14.6673 2.75765 14.6673 2.43095 14.532C1.99534 14.3516 1.64925 14.0055 1.46882 13.5699C1.3335 13.2432 1.3335 12.829 1.3335 12.0007Z" fill="#7B58CF"/><path d="M9.3335 12.0007C9.3335 11.1723 9.3335 10.7581 9.46882 10.4314C9.64925 9.99583 9.99534 9.64974 10.4309 9.46931C10.7577 9.33398 11.1718 9.33398 12.0002 9.33398C12.8285 9.33398 13.2427 9.33398 13.5694 9.46931C14.005 9.64974 14.3511 9.99583 14.5315 10.4314C14.6668 10.7581 14.6668 11.1723 14.6668 12.0007C14.6668 12.829 14.6668 13.2432 14.5315 13.5699C14.3511 14.0055 14.005 14.3516 13.5694 14.532C13.2427 14.6673 12.8285 14.6673 12.0002 14.6673C11.1718 14.6673 10.7577 14.6673 10.4309 14.532C9.99534 14.3516 9.64925 14.0055 9.46882 13.5699C9.3335 13.2432 9.3335 12.829 9.3335 12.0007Z" fill="#7B58CF"/></g><path d="M1.3335 4.00065C1.3335 3.17231 1.3335 2.75814 1.46882 2.43144C1.64925 1.99583 1.99534 1.64974 2.43095 1.46931C2.75765 1.33398 3.17182 1.33398 4.00016 1.33398V1.33398C4.8285 1.33398 5.24267 1.33398 5.56938 1.46931C6.00498 1.64974 6.35107 1.99583 6.5315 2.43144C6.66683 2.75814 6.66683 3.17231 6.66683 4.00065V4.00065C6.66683 4.82899 6.66683 5.24316 6.5315 5.56987C6.35107 6.00547 6.00498 6.35156 5.56938 6.53199C5.24267 6.66732 4.8285 6.66732 4.00016 6.66732V6.66732C3.17182 6.66732 2.75765 6.66732 2.43095 6.53199C1.99534 6.35156 1.64925 6.00547 1.46882 5.56987C1.3335 5.24316 1.3335 4.82899 1.3335 4.00065V4.00065Z" stroke="#7B58CF" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.3335 4.00065C9.3335 3.17231 9.3335 2.75814 9.46882 2.43144C9.64925 1.99583 9.99534 1.64974 10.4309 1.46931C10.7577 1.33398 11.1718 1.33398 12.0002 1.33398V1.33398C12.8285 1.33398 13.2427 1.33398 13.5694 1.46931C14.005 1.64974 14.3511 1.99583 14.5315 2.43144C14.6668 2.75814 14.6668 3.17231 14.6668 4.00065V4.00065C14.6668 4.82899 14.6668 5.24316 14.5315 5.56987C14.3511 6.00547 14.005 6.35156 13.5694 6.53199C13.2427 6.66732 12.8285 6.66732 12.0002 6.66732V6.66732C11.1718 6.66732 10.7577 6.66732 10.4309 6.53199C9.99534 6.35156 9.64925 6.00547 9.46882 5.56987C9.3335 5.24316 9.3335 4.82899 9.3335 4.00065V4.00065Z" stroke="#7B58CF" stroke-linecap="round" stroke-linejoin="round"/><path d="M1.3335 12.0007C1.3335 11.1723 1.3335 10.7581 1.46882 10.4314C1.64925 9.99583 1.99534 9.64974 2.43095 9.46931C2.75765 9.33398 3.17182 9.33398 4.00016 9.33398V9.33398C4.8285 9.33398 5.24267 9.33398 5.56938 9.46931C6.00498 9.64974 6.35107 9.99583 6.5315 10.4314C6.66683 10.7581 6.66683 11.1723 6.66683 12.0007V12.0007C6.66683 12.829 6.66683 13.2432 6.5315 13.5699C6.35107 14.0055 6.00498 14.3516 5.56938 14.532C5.24267 14.6673 4.8285 14.6673 4.00016 14.6673V14.6673C3.17182 14.6673 2.75765 14.6673 2.43095 14.532C1.99534 14.3516 1.64925 14.0055 1.46882 13.5699C1.3335 13.2432 1.3335 12.829 1.3335 12.0007V12.0007Z" stroke="#7B58CF" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.3335 12.0007C9.3335 11.1723 9.3335 10.7581 9.46882 10.4314C9.64925 9.99583 9.99534 9.64974 10.4309 9.46931C10.7577 9.33398 11.1718 9.33398 12.0002 9.33398V9.33398C12.8285 9.33398 13.2427 9.33398 13.5694 9.46931C14.005 9.64974 14.3511 9.99583 14.5315 10.4314C14.6668 10.7581 14.6668 11.1723 14.6668 12.0007V12.0007C14.6668 12.829 14.6668 13.2432 14.5315 13.5699C14.3511 14.0055 14.005 14.3516 13.5694 14.532C13.2427 14.6673 12.8285 14.6673 12.0002 14.6673V14.6673C11.1718 14.6673 10.7577 14.6673 10.4309 14.532C9.99534 14.3516 9.64925 14.0055 9.46882 13.5699C9.3335 13.2432 9.3335 12.829 9.3335 12.0007V12.0007Z" stroke="#7B58CF" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="text-[14px] leading-[20px] text-[#344054]">
                  <div>{{ $t('spaces.space') }}</div>
                  <div class="font-light">{{ $t('spaces.tips') }}</div>
                </div>
              </a>
              <a  :href="`/codes/new?orgName=${organization.name}`" class="hover:bg-[#F9FAFB] cursor-pointer flex gap-2 items-center py-[9px] px-[10px]">
                <div class="px-2 py-2 bg-[#F3F4F6]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><rect opacity="0.12" x="1.3335" y="1.33398" width="13.3333" height="13.3333" rx="3.33333" fill="#667085"/><path d="M6.66683 5.33398L4.00016 8.00065L6.66683 10.6673M9.3335 5.33398L12.0002 8.00065L9.3335 10.6673M6.66683 14.6673H9.3335C11.2003 14.6673 12.1338 14.6673 12.8468 14.304C13.474 13.9844 13.9839 13.4745 14.3035 12.8473C14.6668 12.1342 14.6668 11.2008 14.6668 9.33399V6.66732C14.6668 4.80048 14.6668 3.86706 14.3035 3.15402C13.9839 2.52681 13.474 2.01687 12.8468 1.6973C12.1338 1.33398 11.2003 1.33398 9.3335 1.33398H6.66683C4.79999 1.33398 3.86657 1.33398 3.15353 1.6973C2.52632 2.01687 2.01639 2.52681 1.69681 3.15402C1.3335 3.86706 1.3335 4.80048 1.3335 6.66732V9.33398C1.3335 11.2008 1.3335 12.1342 1.69681 12.8473C2.01639 13.4745 2.52632 13.9844 3.15353 14.304C3.86657 14.6673 4.79999 14.6673 6.66683 14.6673Z" stroke="#667085" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="text-[14px] leading-[20px] text-[#344054]">
                  <div>{{ $t('codes.codes') }}</div>
                  <div class="font-light">{{ $t('codes.tips')}}</div>
                </div>
              </a>
            </div>
          </el-popover>
          <a v-if="admin" :href="`/organizations/${organization.name}/edit`" class="flex gap-[10px] border border-gray-300 rounded-[8px] px-[12px] py-[8px]">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M9.99984 12.9167H6.24984C5.08687 12.9167 4.50538 12.9167 4.03222 13.0602C2.96688 13.3834 2.1332 14.217 1.81004 15.2824C1.6665 15.7555 1.6665 16.337 1.6665 17.5M15.8332 17.5V12.5M13.3332 15H18.3332M12.0832 6.25C12.0832 8.32107 10.4042 10 8.33317 10C6.2621 10 4.58317 8.32107 4.58317 6.25C4.58317 4.17893 6.2621 2.5 8.33317 2.5C10.4042 2.5 12.0832 4.17893 12.0832 6.25Z" stroke="#344054" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/></svg>
            {{ $t('organization.orgSetting') }}
          </a>
        </div>
      </div>
    </div>

    <div class="bg-[#fff]">
      <div class="max-w-[1280px] m-auto py-[36px] flex sm:flex-col">
        <div class="w-[30%] md:w-[45%] px-[16px] sm:w-[100%]">
          <h3 class="flex items-center gap-[8px]">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
              <g clip-path="url(#clip0_4440_70851)">
                <path opacity="0.12" d="M16.5 11.25V9.4084C16.5 8.42493 16.5 7.9332 16.4124 7.47151C16.2497 6.61316 15.8648 5.81244 15.2963 5.14913C14.9904 4.79234 14.6064 4.48516 13.8385 3.87079L13.6852 3.74817C12.2008 2.56062 11.4586 1.96684 10.655 1.68498C9.58368 1.30917 8.41632 1.30917 7.34496 1.68498C6.54145 1.96684 5.79923 2.56062 4.31479 3.74817L4.31479 3.74817L4.16151 3.87079C3.39355 4.48516 3.00958 4.79234 2.70375 5.14913C2.13518 5.81244 1.75034 6.61316 1.58756 7.47151C1.5 7.9332 1.5 8.42493 1.5 9.4084V11.25C1.5 11.4821 1.5 11.5982 1.50385 11.6963C1.60629 14.3036 3.69643 16.3937 6.3037 16.4961C6.40181 16.5 6.51788 16.5 6.75 16.5V11.25C6.75 11.0178 6.75 10.9017 6.75963 10.804C6.85315 9.85441 7.60441 9.10315 8.55397 9.00963C8.65175 9 8.76783 9 9 9C9.23217 9 9.34825 9 9.44603 9.00963C10.3956 9.10315 11.1468 9.85441 11.2404 10.804C11.25 10.9017 11.25 11.0178 11.25 11.25V16.5C11.4821 16.5 11.5982 16.5 11.6963 16.4961C14.3036 16.3937 16.3937 14.3036 16.4961 11.6963C16.5 11.5982 16.5 11.4821 16.5 11.25Z" fill="#A8ABB2"/>
                <path d="M11.25 16.5V11.25C11.25 11.0178 11.25 10.9017 11.2404 10.804C11.1468 9.85441 10.3956 9.10315 9.44603 9.00963C9.34825 9 9.23217 9 9 9V9C8.76783 9 8.65175 9 8.55397 9.00963C7.60441 9.10315 6.85315 9.85441 6.75963 10.804C6.75 10.9017 6.75 11.0178 6.75 11.25V16.5M4.31479 3.74817L4.16151 3.87079C3.39355 4.48516 3.00958 4.79234 2.70375 5.14913C2.13518 5.81244 1.75034 6.61316 1.58756 7.47151C1.5 7.9332 1.5 8.42493 1.5 9.4084V9.4084C1.5 11.3554 1.5 12.3288 1.76744 13.1133C2.26754 14.5803 3.41967 15.7325 4.88666 16.2326C5.67116 16.5 6.64464 16.5 8.5916 16.5H9.4084C11.3554 16.5 12.3288 16.5 13.1133 16.2326C14.5803 15.7325 15.7325 14.5803 16.2326 13.1133C16.5 12.3288 16.5 11.3554 16.5 9.4084V9.4084C16.5 8.42493 16.5 7.9332 16.4124 7.47151C16.2497 6.61316 15.8648 5.81244 15.2963 5.14913C14.9904 4.79234 14.6064 4.48516 13.8385 3.87079L13.6852 3.74817C12.2008 2.56062 11.4586 1.96684 10.655 1.68498C9.58368 1.30917 8.41632 1.30917 7.34497 1.68498C6.54145 1.96684 5.79923 2.56062 4.31479 3.74817Z" stroke="#A8ABB2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
                <clipPath id="clip0_4440_70851">
                  <rect width="18" height="18" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <span class="text-[#303133] text-[20px]">{{ $t('organization.orgTeam') }} <span class="text-[#A8ABB2] text-[20px]">{{ membersList.length }} </span></span>
          </h3>

          <InviteMember :org-name="organization.name"
                        @resetMemberList="resetMemberList"
                        :admin="admin"
          />

          <div class="mt-[16px] flex flex-wrap gap-[8px]">
            <a v-for="user in membersList" :href="`/profile/${user.name}`">
              <div class="flex flex-col items-center">
                <img :src="user.avatar" class="h-[52px] w-[52px] rounded-[50%] border p-[2px]" />
                <span class="text-[#A8ABB2] text-[12px]">{{ user.role }}</span>
              </div>
            </a>
          </div>
        </div>
        <profile-repo-list
          :model-list="models"
          :dataset-list="datasets"
          :space-list="spaces"
          :code-list="codes"
          :name="organization.name"
        />
      </div>
    </div>
  </div>
</template>
<script lang="ts" setup>
  import { ref, onMounted } from 'vue'
  import InviteMember from './InviteMember.vue'
  import ProfileRepoList from '../shared/ProfileRepoList.vue'

  const props = defineProps({
    organization: Object,
    members: Array,
    models: Object,
    datasets: Object,
    spaces: Object,
    codes: Object,
    admin: Boolean
  })

  const membersList = ref(props.members)

  const resetMemberList = (newMembers, userRole) => {
    newMembers.forEach(member => member.role = userRole)
    const newMembersList = membersList.value.concat(newMembers).reverse()
    const uniqNewMembersList = newMembersList.filter((member, index, self) => {
      return index === self.findIndex((nestedMember) => nestedMember.name === member.name);
    });
    membersList.value = uniqNewMembersList.reverse()
  }

  onMounted(() => {})
</script>